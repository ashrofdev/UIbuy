(this.webpackJsonpuibuy=this.webpackJsonpuibuy||[]).push([[0],{139:function(e,t,a){e.exports=a(285)},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},172:function(e,t){},174:function(e,t){},181:function(e,t){},183:function(e,t){},223:function(e,t){},224:function(e,t){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(137),c=a.n(l),o=a(17),i=a(18),s=a(20),u=a(19),m=a(21),p=(a(144),a(145),function(e){var t=e.onRouteChange;return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{className:"products",onClick:function(){return t("products")}},"Home")),r.a.createElement("li",null,r.a.createElement("button",{className:"likes",onClick:function(){return t("likes")}},"Likes")),r.a.createElement("li",null,r.a.createElement("button",{className:"sell",onClick:function(){return t("sell")}},"Sell an item"))))}),d=(a(146),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("input",{onChange:this.props.filterProducts,placeholder:"\ud83d\udd0d Search for an item",className:"search-box"}))}}]),t}(n.Component)),f=(a(147),a(148),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){"products"===e.props.route&&e.props.item.isLiked&&document.querySelector(".like_btn").classList.add("onlike")}),1e3)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.seller,n=e.price,l=e.img,c=e.onLike,o=e.item,i=e.viewDetails;return r.a.createElement("div",{className:"item"},r.a.createElement("figure",null,r.a.createElement("img",{alt:"product img",src:l})),r.a.createElement("div",{className:"item_details"},r.a.createElement("h3",{className:"item_name"},t),r.a.createElement("div",{className:"item_sub_details"},r.a.createElement("p",{className:"item_seller"},a),r.a.createElement("p",{className:"item_price"},n)),r.a.createElement("div",{className:"cta"},r.a.createElement("button",{onClick:function(e){return c(o,e)},className:"like_btn"},"\u2764\ufe0f"),r.a.createElement("button",{onClick:function(){return i(o)},className:"buy_btn"},"BUY NOW"))))}}]),t}(n.Component)),h=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.likes.forEach((function(t){e.props.items.forEach((function(e){e===t&&(e.isLiked=!0)}))})),console.log(this.props.items)}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.onLike,n=e.viewDetails,l=(e.likes,t.map((function(e,l){return r.a.createElement(f,{viewDetails:n,item:t[l],itemNo:l,onLike:a,img:t[l].product_url,name:t[l].product_name,seller:t[l].seller_name,price:t[l].product_price})})));return r.a.createElement("div",{className:"prodcs"},l)}}]),t}(n.Component),E=(a(149),function(e){var t=e.message;return r.a.createElement("div",{className:"error"},r.a.createElement("h2",{style:{color:"gray",opacity:.5,textAlign:"center",paddingTop:"5rem",fontWeight:200,fontSize:"2rem"}},t))}),g=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.likes;e.error;console.log(t);var a=t.map((function(e,a){return r.a.createElement(f,{img:t[a].img,name:t[a].name,seller:t[a].seller,price:t[a].price})}));return r.a.createElement("div",{className:"likes-page prodcs"},t.length<1?r.a.createElement(E,{message:"\ud83e\udd37\ud83c\udffd\u200d\u2642\ufe0f Your likes list is currently empty"}):a)}}]),t}(n.Component),b=a(71),y=a.n(b),v=a(138),k=(a(151),a(43)),S=a.n(k);a(152),a(286),a(154);S.a.initializeApp({apiKey:"AIzaSyC9vhjcrGujljlfDLhSKsEkBnYJqaCsLqA",authDomain:"test-mflbrq.firebaseapp.com",databaseURL:"https://test-mflbrq.firebaseio.com",projectId:"test-mflbrq",storageBucket:"test-mflbrq.appspot.com",messagingSenderId:"944291062313",appId:"1:944291062313:web:7af4c2f4bba92e2841b238",measurementId:"G-PV8YZS2737"});var j=S.a.database(),N=S.a.storage(),_=(a(283),function(e){var t=e.text,a=e.alertGo;return r.a.createElement("div",{className:"alert"},t+" \ud83d\uded2",r.a.createElement("button",{onClick:function(e){return a(e)}},"X"))}),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",upload:!1},a.onSubmitProduct=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector("button span").classList.add("roll"),e.next=3,N.ref("product_images").child(document.querySelector(".product_name").value).put(a.state.file);case 3:N.ref("product_images").child(document.querySelector(".product_name").value).getDownloadURL().then((function(e){console.log(e),j.ref("products").push().set({product_url:e,seller_name:document.querySelector(".seller_name").value,product_name:document.querySelector(".product_name").value,product_price:"\u20a6"+document.querySelector(".product_price").value,price_negotiability:document.querySelector("select").value,item_details:document.querySelector(".item_details").value}).then((function(e){console.log(e),a.setState({upload:!0}),document.querySelector("button span").classList.remove("roll")})).catch((function(e){console.log(e),document.querySelector("button span").classList.remove("roll")}))}));case 4:case"end":return e.stop()}}),e)}))),a.onUpload=function(e){a.setState({file:e.target.files[0]})},a.alertGo=function(e){e.target.parentElement.remove(),a.setState({alert:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sell-page"},r.a.createElement("label",null,"UPLOAD IMAGE",r.a.createElement("input",{onChange:this.onUpload,type:"file",className:"product_img"})),r.a.createElement("input",{placeholder:"Enter your name",className:"seller_name"}),r.a.createElement("input",{placeholder:"Enter product's name",className:"product_name"}),r.a.createElement("input",{placeholder:"Enter product's price",className:"product_price"}),r.a.createElement("label",null,"Price Negotiability",r.a.createElement("select",null,r.a.createElement("option",null,"Negotiable"),r.a.createElement("option",null,"Not negotiable"))),r.a.createElement("textarea",{className:"item_details",placeholder:"Item details"}),r.a.createElement("button",{onClick:this.onSubmitProduct},"SELL ITEM ",r.a.createElement("span",null,"\ud83d\uded2")),this.state.upload?r.a.createElement(_,{alertGo:this.alertGo,text:"Product deployed"}):null)}}]),t}(n.Component),O=(a(284),function(e){var t=e.product,a=e.back;return r.a.createElement("div",{className:"product-details"},r.a.createElement("figure",{style:{gridColumn:"1/4"}},r.a.createElement("img",{style:{width:"100%",height:"30rem"},src:t.product_url})),r.a.createElement("div",{style:{fontSize:"1.3rem",gridColumn:"4/-1",justifySelf:"flexEnd"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("p",{style:{padding:".5rem .8rem",fontWeight:"700"}},"Product's Name: "),r.a.createElement("span",null,t.product_name)),r.a.createElement("div",{style:{display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("p",{style:{padding:".5rem .8rem",fontWeight:"700"}},"Product's Price: "),r.a.createElement("span",null,t.product_price)),r.a.createElement("div",{style:{display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("p",{style:{padding:".5rem .8rem",fontWeight:"700"}},"Seller's Name: "),r.a.createElement("span",null,t.seller_name)),r.a.createElement("div",{style:{display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("p",{style:{padding:".5rem .8rem",fontWeight:"700"}},"Phone no: "),r.a.createElement("span",null,t.seller_phone)),r.a.createElement("div",{style:{display:"flex",justifyContent:"flexStart",alignItems:"center"}},r.a.createElement("p",{style:{padding:".5rem .8rem",fontWeight:"700"}},"Prce Negotiability: "),r.a.createElement("span",null,t.product_negotiability))),r.a.createElement("h2",{style:{gridColumn:"1/4",fontWeight:"700",fontSize:"2rem"}},"Product's description ............................"),r.a.createElement("div",{className:"details",style:{gridColumn:"4/-1",fontWeight:"700",fontSize:"2rem"}},r.a.createElement("button",{className:"back",onClick:a},"BACK"),r.a.createElement("button",{onClick:function(){fetch("https://uibuy-api.herokuapp.com/send_mail").then((function(e){return e.json()})).then(console.log)}},"REQUEST PRODUCT")))}),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={route:"products",buy:!0,products:[],product:{},likes:[],inputValue:""},a.onRouteChange=function(e){a.setState({error:!1});var t=a.state.route;document.querySelector("."+t).classList.remove("route"),document.querySelector("."+e).classList.add("route"),a.setState({route:e})},a.filterProducts=function(e){console.log(e.target.value),a.setState({inputValue:e.target.value})},a.onLike=function(e,t){console.log(t.target),e.isLiked?(t.target.classList.remove("onlike"),e.isLiked=!1,a.state.likes.forEach((function(t,n){console.log(n,11,t,11111),e===t&&(console.log(t,"........."),a.state.likes.splice(n,1))}))):(t.target.classList.add("onlike"),e.isLiked=!0,a.state.likes.push(e))},a.viewDetails=function(e){document.querySelector(".products").classList.remove("route"),a.setState({product:e,route:"details"})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];j.ref("products").once("value").then((function(a){a.forEach((function(e){t.push(e.val())})),e.setState({products:t}),console.log(e.state.products)})).catch((function(e){console.log(e,111)}))}},{key:"render",value:function(){var e=this,t=this.state.products.filter((function(t){return t.product_name.toLowerCase().includes(e.state.inputValue.toLocaleLowerCase())})),a=this.state.likes.filter((function(t){return t.product_name.toLowerCase().includes(e.state.inputValue.toLocaleLowerCase())}));return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{style:{gridColumn:"2/8"}},r.a.createElement("h1",{className:"heading"}," ","NO IDEA\ud83d\ude43"," "),r.a.createElement("p",null,"Nothing more than 25 words to describe the website\ud83e\udd27"),r.a.createElement("section",{className:"navsearch"},r.a.createElement(p,{onRouteChange:this.onRouteChange}),r.a.createElement(d,{filterProducts:this.filterProducts})))),r.a.createElement("main",null,r.a.createElement("section",null,"products"===this.state.route?r.a.createElement(h,{viewDetails:this.viewDetails,items:t,onLike:this.onLike,error:this.state.error,likes:this.state.likes,route:this.state.route}):"sell"===this.state.route?r.a.createElement(C,null):"likes"===this.state.route?r.a.createElement(g,{likes:a}):this.state.buy?r.a.createElement(O,{product:this.state.product,back:function(){return e.setState({route:"products"})}}):null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[139,1,2]]]);
//# sourceMappingURL=main.f9f78ea6.chunk.js.map